{"ast":null,"code":"var _jsxFileName = \"E:\\\\Django\\\\Django_Channels\\\\Team_Project\\\\Django_Channels_New_Version\\\\src\\\\containers\\\\Sidepanel.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Spin, Icon } from 'antd';\nimport { connect } from 'react-redux';\nimport * as authActions from '../store/actions/auth';\nimport * as navActions from '../store/actions/nav';\nimport * as messageActions from '../store/actions/message';\nimport Contact from '../components/Contact';\nconst antIcon = /*#__PURE__*/React.createElement(Icon, {\n  type: \"loading\",\n  style: {\n    fontSize: 24\n  },\n  spin: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 17\n  }\n});\n\nclass Sidepanel extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loginForm: true\n    };\n\n    this.changeForm = () => {\n      this.setState({\n        loginForm: !this.state.loginForm\n      });\n    };\n\n    this.authenticate = e => {\n      e.preventDefault();\n\n      if (this.state.loginForm) {\n        this.props.login(e.target.username.value, e.target.password.value);\n        console.log(e.target.username.value);\n        console.log(e.target.password.value);\n      } else {\n        this.props.signup(e.target.username.value, e.target.email.value, e.target.password.value, e.target.password2.value);\n      }\n    };\n  }\n\n  waitForAuthDetails() {\n    const component = this;\n    setTimeout(function () {\n      if ( // Checking if our component.props.token is not null\n      // and it's not undefined, then we're going to call\n      // the getUserChats method from redux which is one of the\n      // React Module.\n      component.props.token !== null && component.props.token !== undefined) {\n        component.props.getUserChats(component.props.username, component.props.token);\n        return;\n      } else {\n        console.log(\"waiting for authentication details...\"); // Otherwise, recirculate waitForAuthDetails Method again.\n\n        component.waitForAuthDetails();\n      }\n    }, 100);\n  }\n\n  componentDidMount() {\n    // Call waitForAuthDetails Method.\n    this.waitForAuthDetails();\n  }\n\n  openAddChatPopup() {\n    this.props.addChat();\n  }\n\n  render() {\n    let activeChats = this.props.chats.map(c => {\n      //        const activeChats = this.state.chats.map(c => {\n      return /*#__PURE__*/React.createElement(Contact, {\n        key: c.id,\n        name: \"Harvey Specter\",\n        picURL: \"http://emilcarlsson.se/assets/louislitt.png\",\n        status: \"busy\",\n        chatURL: `/${c.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"sidepanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"profile-img\",\n      src: \"http://emilcarlsson.se/assets/mikeross.png\",\n      className: \"online\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, \"Mike Ross\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-chevron-down expand-button\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"status-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      id: \"status-online\",\n      className: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"status-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 71\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 111\n      }\n    }, \"Online\")), /*#__PURE__*/React.createElement(\"li\", {\n      id: \"status-away\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"status-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 50\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 90\n      }\n    }, \"Away\")), /*#__PURE__*/React.createElement(\"li\", {\n      id: \"status-busy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"status-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 50\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 90\n      }\n    }, \"Busy\")), /*#__PURE__*/React.createElement(\"li\", {\n      id: \"status-offline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"status-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 53\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 93\n      }\n    }, \"Offline\")))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"expanded\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, this.props.loading ? /*#__PURE__*/React.createElement(Spin, {\n      indicator: antIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }) : this.props.isAuthenticated ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.props.logout(),\n      className: \"authBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    }, \"Logout\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      method: \"POST\",\n      onSubmit: this.authenticate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, this.state.loginForm ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password2\",\n      type: \"password\",\n      placeholder: \"password confirm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, \"Authenticate\")), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.changeForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, \"Switch\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-search\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 35\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search contacts...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"contacts\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, activeChats)), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"bottom-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"addcontact\",\n      onClick: () => this.openAddChatPopup(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-user-plus fa-fw\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, \"Add Chat\")), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-cog fa-fw\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \"Settings\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null,\n    loading: state.auth.loading,\n    token: state.auth.token,\n    username: state.auth.username,\n    // Show users messages that they sent.\n    chats: state.message.chats\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (userName, password) => dispatch(authActions.authLogin(userName, password)),\n    logout: () => dispatch(authActions.logout()),\n    signup: (username, email, password1, password2) => dispatch(authActions.authSignup(username, email, password1, password2)),\n    addChat: () => dispatch(navActions.openAddChatPopup()),\n    getUserChats: (username, token) => dispatch(messageActions.getUserChats(username, token))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidepanel);","map":{"version":3,"sources":["E:/Django/Django_Channels/Team_Project/Django_Channels_New_Version/src/containers/Sidepanel.js"],"names":["React","axios","Spin","Icon","connect","authActions","navActions","messageActions","Contact","antIcon","fontSize","Sidepanel","Component","state","loginForm","changeForm","setState","authenticate","e","preventDefault","props","login","target","username","value","password","console","log","signup","email","password2","waitForAuthDetails","component","setTimeout","token","undefined","getUserChats","componentDidMount","openAddChatPopup","addChat","render","activeChats","chats","map","c","id","loading","isAuthenticated","logout","mapStateToProps","auth","message","mapDispatchToProps","dispatch","userName","authLogin","password1","authSignup"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Spin, Icon } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport * as authActions from '../store/actions/auth';\r\nimport * as navActions from '../store/actions/nav';\r\nimport * as messageActions from '../store/actions/message';\r\nimport Contact from '../components/Contact';\r\n\r\nconst antIcon = <Icon type=\"loading\" style={{ fontSize: 24 }} spin />;\r\n\r\nclass Sidepanel extends React.Component {\r\n\r\n    state = {\r\n        loginForm: true\r\n    }\r\n\r\n    waitForAuthDetails() {\r\n        const component = this;\r\n        setTimeout(function() {\r\n            if (\r\n                // Checking if our component.props.token is not null\r\n                // and it's not undefined, then we're going to call\r\n                // the getUserChats method from redux which is one of the\r\n                // React Module.\r\n                component.props.token !== null &&\r\n                component.props.token !== undefined\r\n            ) {\r\n                component.props.getUserChats(\r\n                    component.props.username,\r\n                    component.props.token\r\n                );\r\n                return;\r\n            } else {\r\n              console.log(\"waiting for authentication details...\");\r\n              // Otherwise, recirculate waitForAuthDetails Method again.\r\n              component.waitForAuthDetails();\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    componentDidMount(){\r\n        // Call waitForAuthDetails Method.\r\n        this.waitForAuthDetails();\r\n    }\r\n\r\n    openAddChatPopup() {\r\n        this.props.addChat();\r\n    }\r\n\r\n    changeForm = () => {\r\n        this.setState({ loginForm: !this.state.loginForm });\r\n    };\r\n\r\n    authenticate = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.loginForm) {\r\n            this.props.login(\r\n                e.target.username.value,\r\n                e.target.password.value\r\n            );\r\n            console.log(e.target.username.value);\r\n            console.log(e.target.password.value);\r\n        } else {\r\n            this.props.signup(\r\n                e.target.username.value,\r\n                e.target.email.value,\r\n                e.target.password.value,\r\n                e.target.password2.value\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let activeChats = this.props.chats.map(c => {\r\n//        const activeChats = this.state.chats.map(c => {\r\n            return (\r\n                <Contact\r\n                    key={c.id}\r\n                    name=\"Harvey Specter\"\r\n                    picURL=\"http://emilcarlsson.se/assets/louislitt.png\"\r\n                    status=\"busy\"\r\n                    chatURL={`/${c.id}`} />\r\n            )\r\n        });\r\n        return (\r\n            <div id=\"sidepanel\">\r\n                <div id=\"profile\">\r\n                    <div className=\"wrap\">\r\n                        <img id=\"profile-img\" src=\"http://emilcarlsson.se/assets/mikeross.png\" className=\"online\" alt=\"\" />\r\n                        <p>Mike Ross</p>\r\n                        <i className=\"fa fa-chevron-down expand-button\" aria-hidden=\"true\"></i>\r\n                        <div id=\"status-options\">\r\n                            <ul>\r\n                            <li id=\"status-online\" className=\"active\"><span className=\"status-circle\"></span> <p>Online</p></li>\r\n                            <li id=\"status-away\"><span className=\"status-circle\"></span> <p>Away</p></li>\r\n                            <li id=\"status-busy\"><span className=\"status-circle\"></span> <p>Busy</p></li>\r\n                            <li id=\"status-offline\"><span className=\"status-circle\"></span> <p>Offline</p></li>\r\n                            </ul>\r\n                        </div>\r\n                        <div id=\"expanded\">\r\n                            {this.props.loading ? (\r\n                            <Spin indicator={antIcon} /> ) : this.props.isAuthenticated ? (\r\n                            <button onClick={() => this.props.logout()} className=\"authBtn\">\r\n                                <span>Logout</span>\r\n                            </button>\r\n                        ) : (\r\n                <div>\r\n                  <form method=\"POST\" onSubmit={this.authenticate}>\r\n                    {\r\n                        this.state.loginForm ? (\r\n\r\n                        <div>\r\n                            <input name=\"username\" type=\"text\" placeholder=\"username\" />\r\n                            <input name=\"password\" type=\"password\" placeholder=\"password\" />\r\n                        </div>\r\n\r\n                       ) : (\r\n\r\n                        <div>\r\n                            <input name=\"username\" type=\"text\" placeholder=\"username\" />\r\n                            <input name=\"email\" type=\"email\" placeholder=\"email\" />\r\n                            <input name=\"password\" type=\"password\" placeholder=\"password\" />\r\n                            <input name=\"password2\" type=\"password\" placeholder=\"password confirm\" />\r\n                        </div>\r\n                    )}\r\n                    <button type=\"submit\">Authenticate</button>\r\n                  </form>\r\n\r\n                  <button onClick={this.changeForm}>Switch</button>\r\n                </div>\r\n                )}\r\n                </div>\r\n                </div>\r\n            </div>\r\n            <div id=\"search\">\r\n                <label htmlFor=\"\"><i className=\"fa fa-search\" aria-hidden=\"true\"></i></label>\r\n                <input type=\"text\" placeholder=\"Search contacts...\" />\r\n            </div>\r\n            <div id=\"contacts\">\r\n                <ul>\r\n                    {activeChats}\r\n\r\n                </ul>\r\n            </div>\r\n            <div id=\"bottom-bar\">\r\n                <button id=\"addcontact\" onClick={() => this.openAddChatPopup()}>\r\n                    <i className=\"fa fa-user-plus fa-fw\" aria-hidden=\"true\"></i>\r\n                    <span>Add Chat</span>\r\n                </button>\r\n                <button id=\"settings\">\r\n                    <i className=\"fa fa-cog fa-fw\" aria-hidden=\"true\"></i>\r\n                    <span>Settings</span>\r\n                </button>\r\n            </div>\r\n            </div>\r\n            );\r\n        };\r\n    }\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuthenticated: state.auth.token !== null,\r\n        loading: state.auth.loading,\r\n        token: state.auth.token,\r\n        username: state.auth.username,\r\n        // Show users messages that they sent.\r\n        chats: state.message.chats\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        login: (userName, password) => dispatch(authActions.authLogin(userName, password)),\r\n        logout: () => dispatch(authActions.logout()),\r\n        signup: (username, email, password1, password2) => dispatch(authActions.authSignup(username, email, password1, password2)),\r\n        addChat: () => dispatch(navActions.openAddChatPopup()),\r\n        getUserChats: (username, token) => dispatch(messageActions.getUserChats(username, token))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidepanel);\r\n"]},"metadata":{},"sourceType":"module"}