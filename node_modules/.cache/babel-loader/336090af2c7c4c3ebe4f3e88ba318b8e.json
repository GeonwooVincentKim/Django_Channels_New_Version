{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Adminstrator\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _assertThisInitialized from\"C:\\\\Users\\\\Adminstrator\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createClass from\"C:\\\\Users\\\\Adminstrator\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\Adminstrator\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Adminstrator\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import{BrowserRouter as Router}from'react-router-dom';import BaseRouter from'./routes';import Sidepanel from'./containers/Sidepanel';import Profile from'./containers/Profile';import AddChatModal from'./containers/Popup';import*as authActions from'./store/actions/auth';import*as navActions from'./store/actions/nav';import*as messageActions from\"./store/actions/message\";import WebSocketInstance from\"./websocket\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.onTryAutoSignup();}}]);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);WebSocketInstance.addCallbacks(_this.props.setMessages.bind(_assertThisInitialized(_this)),_this.props.addMessage.bind(_assertThisInitialized(_this)));return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",{id:\"frame\"},/*#__PURE__*/React.createElement(Sidepanel,null),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(AddChatModal,{isVisible:this.props.showAddChatPopup,close:function close(){return _this2.props.closeAddChatPopup();}}),/*#__PURE__*/React.createElement(Profile,null),/*#__PURE__*/React.createElement(BaseRouter,null))));}}]);return App;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{showAddChatPopup:state.nav.showAddChatPopup,authenticated:state.auth.token};};var mapDispatchToProps=function mapDispatchToProps(dispatch){// Put the addMessage and setMessages which are through dispatch function.\nreturn{onTryAutoSignup:function onTryAutoSignup(){return dispatch(authActions.authCheckState());},closeAddChatPopup:function closeAddChatPopup(){return dispatch(navActions.closeAddChatPopup());},addMessage:function addMessage(message){return dispatch(messageActions.addMessage(message));},setMessages:function setMessages(messages){return dispatch(messageActions.setMessages(messages));}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["E:/Django/Django_Channels/Team_Project/Django_Channels_New_Version/src/App.js"],"names":["React","connect","BrowserRouter","Router","BaseRouter","Sidepanel","Profile","AddChatModal","authActions","navActions","messageActions","WebSocketInstance","App","props","onTryAutoSignup","addCallbacks","setMessages","bind","addMessage","showAddChatPopup","closeAddChatPopup","Component","mapStateToProps","state","nav","authenticated","auth","token","mapDispatchToProps","dispatch","authCheckState","message","messages"],"mappings":"m+BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,KAAwC,kBAAxC,CACA,MAAOC,CAAAA,UAAP,KAAuB,UAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,oBAAzB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,sBAA7B,CACA,MAAO,GAAKC,CAAAA,UAAZ,KAA4B,qBAA5B,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,yBAAhC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,aAA9B,C,GAEMC,CAAAA,G,mLACkB,CAChB,KAAKC,KAAL,CAAWC,eAAX,GACH,C,IAED,aAAYD,KAAZ,CAAmB,qCACf,uBAAMA,KAAN,EACAF,iBAAiB,CAACI,YAAlB,CACE,MAAKF,KAAL,CAAWG,WAAX,CAAuBC,IAAvB,+BADF,CAEE,MAAKJ,KAAL,CAAWK,UAAX,CAAsBD,IAAtB,+BAFF,EAFe,aAMlB,C,uDAEQ,iBACL,mBACI,oBAAC,MAAD,mBACI,2BAAK,EAAE,CAAC,OAAR,eACI,oBAAC,SAAD,MADJ,cAEI,2BAAK,SAAS,CAAC,SAAf,eACI,oBAAC,YAAD,EACE,SAAS,CAAE,KAAKJ,KAAL,CAAWM,gBADxB,CAEE,KAAK,CAAE,uBAAM,CAAA,MAAI,CAACN,KAAL,CAAWO,iBAAX,EAAN,EAFT,EADJ,cAKI,oBAAC,OAAD,MALJ,cAMI,oBAAC,UAAD,MANJ,CAFJ,CADJ,CADJ,CAeH,C,iBA7BapB,KAAK,CAACqB,S,EAgCxB,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAO,CACHJ,gBAAgB,CAAEI,KAAK,CAACC,GAAN,CAAUL,gBADzB,CAEHM,aAAa,CAAEF,KAAK,CAACG,IAAN,CAAWC,KAFvB,CAAP,CAIH,CALD,CAOA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACnC;AACA,MAAO,CACHf,eAAe,CAAE,iCAAMe,CAAAA,QAAQ,CAACrB,WAAW,CAACsB,cAAZ,EAAD,CAAd,EADd,CAEHV,iBAAiB,CAAE,mCAAMS,CAAAA,QAAQ,CAACpB,UAAU,CAACW,iBAAX,EAAD,CAAd,EAFhB,CAGHF,UAAU,CAAE,oBAAAa,OAAO,QAAIF,CAAAA,QAAQ,CAACnB,cAAc,CAACQ,UAAf,CAA0Ba,OAA1B,CAAD,CAAZ,EAHhB,CAIHf,WAAW,CAAE,qBAAAgB,QAAQ,QAAIH,CAAAA,QAAQ,CAACnB,cAAc,CAACM,WAAf,CAA2BgB,QAA3B,CAAD,CAAZ,EAJlB,CAAP,CAMH,CARD,CAUA,cAAe/B,CAAAA,OAAO,CAACqB,eAAD,CAAkBM,kBAAlB,CAAP,CAA6ChB,GAA7C,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport BaseRouter from './routes';\r\nimport Sidepanel from './containers/Sidepanel';\r\nimport Profile from './containers/Profile';\r\nimport AddChatModal from './containers/Popup';\r\nimport * as authActions from './store/actions/auth';\r\nimport * as navActions from './store/actions/nav';\r\nimport * as messageActions from \"./store/actions/message\";\r\nimport WebSocketInstance from \"./websocket\";\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.onTryAutoSignup();\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        WebSocketInstance.addCallbacks(\r\n          this.props.setMessages.bind(this),\r\n          this.props.addMessage.bind(this)\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <Router>\r\n                <div id=\"frame\">\r\n                    <Sidepanel />\r\n                    <div className=\"content\">\r\n                        <AddChatModal\r\n                          isVisible={this.props.showAddChatPopup}\r\n                          close={() => this.props.closeAddChatPopup() }\r\n                        />\r\n                        <Profile />\r\n                        <BaseRouter />\r\n                    </div>\r\n                </div>\r\n            </Router>\r\n        );\r\n    };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        showAddChatPopup: state.nav.showAddChatPopup,\r\n        authenticated: state.auth.token\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    // Put the addMessage and setMessages which are through dispatch function.\r\n    return {\r\n        onTryAutoSignup: () => dispatch(authActions.authCheckState()),\r\n        closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\r\n        addMessage: message => dispatch(messageActions.addMessage(message)),\r\n        setMessages: messages => dispatch(messageActions.setMessages(messages))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n"]},"metadata":{},"sourceType":"module"}